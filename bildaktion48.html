<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Russisch-Trainer: Bild-Aktion-Matching</title>
    <!-- Polyfill f√ºr Drag & Drop auf Touch-Ger√§ten -->
    <script src="https://cdn.jsdelivr.net/npm/drag-drop-touch@1.3.1/DragDropTouch.js"></script>
    <style>
        :root {
            --primary-color: #2c3e50;
            --accent-color: #3498db;
            --success-color: #27ae60;
            --error-color: #e74c3c;
            --bg-color: #f4f7f6;
            --card-bg: #ffffff;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--bg-color);
            color: var(--primary-color);
            margin: 0;
            padding: 20px;
            display: flex;
            justify-content: center;
        }

        .container {
            width: 100%;
            max-width: 900px;
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: var(--primary-color);
            border-bottom: 3px solid var(--accent-color);
            padding-bottom: 10px;
            margin-bottom: 20px;
        }

        .intro-box {
            background-color: #eef7fd;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 30px;
            border-left: 6px solid var(--accent-color);
        }

        /* Grid f√ºr die Aufgaben-Karten */
        .exercise-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
        }

        .task-card {
            border: 1px solid #ddd;
            border-radius: 12px;
            padding: 15px;
            background-color: #fff;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 12px;
            transition: transform 0.2s;
        }

        .image-area {
            font-size: 60px; /* Emojis als Bildersatz */
            height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
            user-select: none;
        }

        .drop-zone {
            width: 80%;
            height: 40px;
            border: 2px dashed var(--accent-color);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            background-color: #fafafa;
            transition: all 0.3s ease;
        }

        .options-pool {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            justify-content: center;
            min-height: 40px;
        }

        .drag-item {
            padding: 6px 12px;
            background-color: var(--accent-color);
            color: white;
            border-radius: 5px;
            cursor: grab;
            font-size: 0.9em;
            user-select: none;
            touch-action: none;
        }

        .drag-item:active { cursor: grabbing; }

        /* Feedback-Farben */
        .correct {
            background-color: var(--success-color) !important;
            border-color: #1e8449 !important;
            color: white !important;
        }

        .incorrect {
            background-color: var(--error-color) !important;
            border-color: #922b21 !important;
            color: white !important;
        }

        /* Button-Styling */
        .button-group {
            display: flex;
            gap: 8px;
            margin-top: 5px;
        }

        .action-btn {
            padding: 6px 12px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            font-size: 0.8em;
            color: white;
            transition: opacity 0.2s;
        }

        .btn-reset { background-color: #95a5a6; }
        .btn-solve { background-color: var(--accent-color); }
        .action-btn:hover { opacity: 0.8; }

        @media (max-width: 600px) {
            .container { padding: 15px; }
            .exercise-grid { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>

<div class="container">
    <h1>Bild-Aktion-Matching</h1>

    <div class="intro-box">
        <strong>Anleitung:</strong> Ziehen Sie das passende russische Kommando (Imperativ) auf das Bild. 
        Die Farbe zeigt sofort an: <span style="color:var(--success-color); font-weight:bold;">Gr√ºn (Richtig)</span> oder <span style="color:var(--error-color); font-weight:bold;">Rot (Falsch)</span>.
    </div>

    <div class="exercise-grid" id="exercise-root"></div>
</div>

<script>
    const tasks = [
        { id: 1, emoji: "ü•£", options: ["–ø–µ–π!", "–µ—à—å!", "–ø–æ–π!"], correct: "–µ—à—å!" },
        { id: 2, emoji: "‚òï", options: ["–ø–µ–π!", "–µ—à—å!", "–∫—É–ø–∏!"], correct: "–ø–µ–π!" },
        { id: 3, emoji: "üìñ", options: ["–ø–∏—à–∏!", "—á–∏—Ç–∞–π!", "–¥—É–º–∞–π!"], correct: "—á–∏—Ç–∞–π!" },
        { id: 4, emoji: "‚úçÔ∏è", options: ["—á–∏—Ç–∞–π!", "—Ä–∏—Å—É–π!", "–ø–∏—à–∏!"], correct: "–ø–∏—à–∏!" },
        { id: 5, emoji: "üò¥", options: ["–∏–¥–∏!", "—Å–ø–∏!", "—Å–∏–¥–∏!"], correct: "—Å–ø–∏!" },
        { id: 6, emoji: "üéß", options: ["—Å–º–æ—Ç—Ä–∏!", "—Å–ª—É—à–∞–π!", "–ø–æ–π!"], correct: "—Å–ª—É—à–∞–π!" },
        { id: 7, emoji: "üó£Ô∏è", options: ["–º–æ–ª—á–∏!", "–≥–æ–≤–æ—Ä–∏!", "–ø–µ–π!"], correct: "–≥–æ–≤–æ—Ä–∏!" },
        { id: 8, emoji: "ü§´", options: ["–≥–æ–≤–æ—Ä–∏!", "–º–æ–ª—á–∏!", "—Å–ø–∏!"], correct: "–º–æ–ª—á–∏!" },
        { id: 9, emoji: "üßç‚Äç‚ôÇÔ∏è", options: ["–≤—Å—Ç–∞–Ω—å!", "—Å—è–¥—å!", "–±–µ–≥–∏!"], correct: "–≤—Å—Ç–∞–Ω—å!" },
        { id: 10, emoji: "ü™ë", options: ["–≤—Å—Ç–∞–Ω—å!", "—Å–∞–¥–∏—Å—å!", "–∏–¥–∏!"], correct: "—Å–∞–¥–∏—Å—å!" },
        { id: 11, emoji: "üòä", options: ["–ø–ª–∞—á—å!", "—É–ª—ã–±–Ω–∏—Å—å!", "—Å–ø–∏!"], correct: "—É–ª—ã–±–Ω–∏—Å—å!" },
        { id: 12, emoji: "üö∂", options: ["—Å—Ç–æ–π!", "–∏–¥–∏!", "—Å–∏–¥–∏!"], correct: "–∏–¥–∏!" },
        { id: 13, emoji: "üì∫", options: ["—Å–º–æ—Ç—Ä–∏!", "—Å–ª—É—à–∞–π!", "–ø–∏—à–∏!"], correct: "—Å–º–æ—Ç—Ä–∏!" },
        { id: 14, emoji: "üé®", options: ["—Ä–∏—Å—É–π!", "—á–∏—Ç–∞–π!", "–≥–æ—Ç–æ–≤—å!"], correct: "—Ä–∏—Å—É–π!" },
        { id: 15, emoji: "üéÅ", options: ["–≤–æ–∑—å–º–∏!", "–¥–∞–π!", "–µ—à—å!"], correct: "–¥–∞–π!" },
        { id: 16, emoji: "ü§≤", options: ["–¥–∞–π!", "–≤–æ–∑—å–º–∏!", "–±—Ä–æ—Å—å!"], correct: "–≤–æ–∑—å–º–∏!" },
        { id: 17, emoji: "üßº", options: ["–º–æ–π!", "–ø–µ–π!", "–ø–æ–π!"], correct: "–º–æ–π!" },
        { id: 18, emoji: "üé§", options: ["–º–æ–ª—á–∏!", "–ø–æ–π!", "–µ—à—å!"], correct: "–ø–æ–π!" },
        { id: 19, emoji: "ü§î", options: ["–¥—É–º–∞–π!", "–±–µ–≥–∏!", "–ø–µ–π!"], correct: "–¥—É–º–∞–π!" },
        { id: 20, emoji: "üÜò", options: ["–º–æ–ª—á–∏!", "–ø–æ–º–æ–≥–∏!", "–∏–¥–∏!"], correct: "–ø–æ–º–æ–≥–∏!" }
    ];

    function initExercises() {
        const root = document.getElementById('exercise-root');
        tasks.forEach(task => {
            const card = document.createElement('div');
            card.className = 'task-card';
            card.id = `task-${task.id}`;

            // Emojis mischen (Zuf√§llige Reihenfolge der Optionen)
            const shuffledOptions = [...task.options].sort(() => Math.random() - 0.5);

            card.innerHTML = `
                <div class="image-area">${task.emoji}</div>
                <div class="drop-zone" ondrop="handleDrop(event, ${task.id})" ondragover="handleDragOver(event)">...</div>
                <div class="options-pool">
                    ${shuffledOptions.map((opt, index) => `
                        <div class="drag-item" 
                             draggable="true" 
                             id="drag-${task.id}-${index}" 
                             ondragstart="handleDragStart(event)">${opt}</div>
                    `).join('')}
                </div>
                <div class="button-group">
                    <button class="action-btn btn-reset" onclick="resetTask(${task.id})">Reset</button>
                    <button class="action-btn btn-solve" onclick="solveTask(${task.id})">L√∂sung</button>
                </div>
            `;
            root.appendChild(card);
        });
    }

    // Drag & Drop Funktionen
    function handleDragStart(ev) {
        ev.dataTransfer.setData("text/plain", ev.target.innerText);
        ev.dataTransfer.setData("elementId", ev.target.id);
    }

    function handleDragOver(ev) {
        ev.preventDefault();
    }

    function handleDrop(ev, taskId) {
        ev.preventDefault();
        const droppedText = ev.dataTransfer.getData("text/plain");
        const dropZone = ev.currentTarget;
        const task = tasks.find(t => t.id === taskId);

        dropZone.innerText = droppedText;

        if (droppedText === task.correct) {
            dropZone.className = "drop-zone correct";
        } else {
            dropZone.className = "drop-zone incorrect";
        }
    }

    // Button-Logik
    window.resetTask = function(taskId) {
        const card = document.getElementById(`task-${taskId}`);
        const dropZone = card.querySelector('.drop-zone');
        dropZone.innerText = "...";
        dropZone.className = "drop-zone";
    };

    window.solveTask = function(taskId) {
        const task = tasks.find(t => t.id === taskId);
        const card = document.getElementById(`task-${taskId}`);
        const dropZone = card.querySelector('.drop-zone');
        dropZone.innerText = task.correct;
        dropZone.className = "drop-zone correct";
    };

    // Initialisierung starten
    initExercises();
</script>

</body>
</html>